# SonarQube Configuration for Frontend

# Project identification
# sonar.projectKey será definido via CLI
# sonar.projectName será definido via CLI

# Source code location
sonar.sources=app
sonar.tests=app

# Test patterns
sonar.test.inclusions=**/*.spec.ts,**/*.test.ts

# Exclusions - Arquivos que NÃO devem ser analisados
sonar.exclusions=\
  **/node_modules/**,\
  **/.nuxt/**,\
  **/dist/**,\
  **/.output/**,\
  **/coverage/**,\
  **/*.spec.ts,\
  **/*.test.ts,\
  **/public/**,\
  **/assets/**/*.{png,jpg,jpeg,gif,svg,ico,woff,woff2,ttf,eot},\
  **/*.config.{js,ts,mjs},\
  **/vitest.config.ts,\
  **/nuxt.config.ts,\
  **/eslint.config.mjs

# Coverage exclusions
sonar.coverage.exclusions=\
  **/*.spec.ts,\
  **/*.test.ts,\
  **/*.config.{js,ts},\
  **/types/**,\
  **/pages/**/*.vue,\
  **/components/**/*.vue,\
  **/app.vue,\
  **/layouts/**/*.vue

# Coverage report paths
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# TypeScript specific
sonar.typescript.node.maxspace=4096

# Coverage thresholds for New Code
# Note: Vue components are excluded from coverage as they are presentational
# Logic is tested in composables and stores which have high coverage
sonar.coverage.min=60.0
sonar.coverage.minNewCode=60.0

# Encoding
sonar.sourceEncoding=UTF-8

# Language
sonar.language=ts

# New Code Definition - Explicitly define what is considered "New Code"
# This helps SonarQube focus on relevant files for coverage
sonar.newCode.referenceBranch=develop

# Disable SCM integration (git blame) para economizar memória
sonar.scm.disabled=false

# Performance tuning
sonar.log.level=INFO

# Additional exclusions for analysis
# Exclude Vue files from overall analysis to focus on testable code
sonar.exclusions.additional=\
  app/components/**/*.vue,\
  app/pages/**/*.vue,\
  app/layouts/**/*.vue
